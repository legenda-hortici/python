class Women:
    # Внешний (вмещающий) класс Women
    name = "объект 1 класса Women" # Атрибут класса: общий для всех экземпляров
    photo = "объект 2 класса Women" # Атрибут класса: также общий для всех экземпляров

    def __init__(self, user, psw):
        self._user = user
        self._psw = psw
        self.meta = self.Meta(user + "@" + psw) # Создаём экземпляр вложенного класса Meta, передав ему данные

    class Meta:
        # Вложенный класс: определён внутри Women
        ordering = ["id"] # Атрибут класса вложенного класса: может использоваться для сортировки

        def __init__(self, access):
            self._access = access # Атрибут экземпляра вложенного класса

            """
            Вложенный класс не может содержать в качестве атрибута вышестоящий класс,
            так как вышестоящий класс еще не создан в __init__.
            """
            # self._women = self.Women() # ОШИБКА: Unresolved attribute reference 'Women' for class 'Meta'

            """
            Объяснение:
            - Вложенный класс Meta не имеет прямого доступа к внешнему классу Women через self.
            - self.Women() — некорректно, потому что `Women` не является атрибутом экземпляра `Meta`.
            - Вложенный класс существует в пространстве имён внешнего класса, но НЕ ИМЕЕТ автоматической 
            связи с экземпляром внешнего класса.
            """

    """
    Дополнительно о вложенных классах:

    1. Вложенные классы:
       - Определяются внутри другого класса.
       - Имеют доступ ко всем атрибутам и методам внешнего класса на уровне класса (не экземпляра).
       - Могут быть использованы для логической группировки классов, связанных по смыслу.

    2. Область видимости:
       - Вложенный класс находится в пространстве имён внешнего класса.
       - Доступ к нему возможен как Women.Meta (через класс) или self.Meta (внутри внешнего класса).

    3. Использование:
       - Часто используются в фреймворках (например, Django ORM) для описания метаданных модели.
       - Позволяют избежать загрязнения глобального пространства имён.

    4. Отношения с внешним классом:
       - Вложенный класс не имеет автоматической связи с экземпляром внешнего класса.
       - Чтобы связать их, нужно явно передавать экземпляр внешнего класса во вложенный.
    """


w = Women("root", "12345")
# Создаём экземпляр внешнего класса
# При этом автоматически создаётся экземпляр вложенного класса Meta

print(w.__dict__)
# Выводит словарь атрибутов экземпляра внешнего класса:
# {'_user': 'root', '_psw': '12345', 'meta': <__main__.Women.Meta object at 0x...>}
# Видим, что вложенный объект хранится как атрибут 'meta'

"""
Дополнительные возможности и особенности вложенных классов:

1. Вложенный класс можно использовать как 'вспомогательный' класс:
   - Для хранения настроек, конфигурации, метаданных и т.п.

2. Вложенные классы могут иметь собственные методы:
   - Эти методы могут работать с данными вложенного класса.

3. Вложенные классы не наследуют атрибуты внешнего класса автоматически:
   - Это независимые классы, просто определённые внутри другого класса.

4. Вложенный класс может быть создан динамически:
   - Можно создавать экземпляры вложенного класса в любое время, не обязательно в __init__.

5. Вложенные классы могут быть использованы для:
   - Инкапсуляции логики
   - Создания внутренних вспомогательных структур
   - Организации кода по смыслу
"""