"""
    Функции — это именованные блоки кода, которые можно вызывать многократно с разными аргументами.
    Функции позволяют структурировать код, избегать дублирования, делать его более читаемым и поддерживаемым.
    В Python функции — это объекты первого класса, то есть их можно передавать как аргументы, возвращать и присваивать переменным.
"""

"""
    1 - определение функции
    2 - возвращаемое значение
    3 - параметры функции
    4 - область видимости (local vs global)
    5 - lambda-функции
    6 - функции как объекты
"""

### 1 - определение функции
"""
    Синтаксис: def имя_функции(параметры):
    тело функции
    return значение (необязательно)
"""
# Пример: простая функция
def greet():
    print("Привет!")
greet() # вызов функции

# Пример: функция с параметрами
def greet_user(name):
    print(f"Привет, {name}!")

greet_user("Алиса") # Привет, Алиса!

### 2 - возвращаемое значение
"""
    Функция может возвращать значение с помощью ключевого слова return.
    Если return нет, функция возвращает None.
"""
# Пример: функция с возвратом значения
def add(a, b):
    return a + b
result = add(3, 5) # 8

# Пример: функция без return
def print_sum(a, b):
    print(a + b)

result = print_sum(3, 5) # 8
print(result) # None

### 3 - параметры функции
"""
    Параметры — это переменные, которые принимает функция при вызове.
    Типы параметров:
    - Обязательные
    - Именованные (keyword arguments)
    - Параметры со значением по умолчанию
    - *args и **kwargs
"""
# Пример: обязательные параметры
def multiply(x, y):
    return x * y

# Пример: параметры по умолчанию
def greet_with_title(name, title="Господин"):
    print(f"{title} {name}")

greet_with_title("Иван") # Господин Иван
greet_with_title("Мария", "Госпожа") # Госпожа Мария

# Пример: именованные аргументы
def introduce(name, age):
    print(f"Меня зовут {name}, мне {age} лет.")

introduce(age=25, name="Петр") # порядок не важен

# Пример: *args — произвольное количество позиционных аргументов
def sum_all(*args):
    return sum(args)

print(sum_all(1, 2, 3, 4)) # 10

# Пример: **kwargs — произвольное количество именованных аргументов
def print_info(**kwargs):
    for key, value in kwargs.items():
        print(f"{key}: {value}")

print_info(name="Алиса", age=30, city="Москва")

# Пример: комбинация *args и **kwargs
def func(a, b, *args, **kwargs):
    print(f"a = {a}, b = {b}")
    print(f"args = {args}")
    print(f"kwargs = {kwargs}")

func(1, 2, 3, 4, name="Алиса", age=25)

### 4 - область видимости (local vs global)
"""
    Переменные в функции могут быть:
    - Локальными (local) — существуют только внутри функции
    - Глобальными (global) — существуют в глобальной области
    - nonlocal — используется для вложенных функций
"""
# Пример: локальная переменная
def local_example():
    x = 10
    print(x)

local_example() # 10

# Пример: глобальная переменная
counter = 0
def increment():
    global counter
    counter += 1

increment()
print(counter) # 1

# Пример: nonlocal (для вложенных функций)
def outer():
    x = 10
    def inner():
        nonlocal x
        x += 1
    inner()
    print(x) # 11

outer()

### 5 - lambda-функции
"""
    Lambda-функции — это анонимные функции, определяемые в одну строку.
    Используются для кратких операций, чаще всего в функциях высшего порядка.
    Синтаксис: lambda аргументы: выражение
"""
# Пример: lambda-функция
square = lambda x: x**2
print(square(5)) # 25

# Пример: использование с map()
numbers = [1, 2, 3, 4]
squared = list(map(lambda x: x**2, numbers)) # [1, 4, 9, 16]

# Пример: использование с filter()
evens = list(filter(lambda x: x % 2 == 0, numbers)) # [2, 4]

### 6 - функции как объекты
"""
    В Python функции — это объекты, и с ними можно делать всё, что с другими объектами:
    - присваивать переменным
    - передавать в другие функции
    - возвращать из функций
"""
# Пример: присвоение функции переменной
my_func = add
print(my_func(3, 4)) # 7

# Пример: передача функции в другую функцию
def apply_operation(func, a, b):
    return func(a, b)

result = apply_operation(multiply, 4, 5) # 20

# Пример: функция, возвращающая другую функцию
def create_multiplier(n):
    def multiplier(x):
        return x * n
    return multiplier

double = create_multiplier(2)
triple = create_multiplier(3)

print(double(5)) # 10
print(triple(5)) # 15

"""
    Основные особенности функций:
    1. Позволяют структурировать код и избегать дублирования.
    2. Могут принимать параметры и возвращать значения.
    3. Имеют область видимости: локальные и глобальные переменные.
    4. Могут быть анонимными (lambda).
    5. Являются объектами первого класса — можно передавать, возвращать, присваивать.
    6. Позволяют создавать вложенные функции и использовать `nonlocal`.
    7. Поддерживают произвольное количество аргументов (*args, **kwargs).
"""